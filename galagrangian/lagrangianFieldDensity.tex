%
% Copyright © 2012 Peeter Joot.  All Rights Reserved.
% Licenced as described in the file LICENSE under the root directory of this GIT repository.
%
%\chapter{Direct variation of Maxwell equations}
\index{Maxwell action!variation}
\label{chap:PJMaxwellLagrangian}
\label{chap:lagrangianFieldDensity}
%\date{Sept 8, 2008.  lagrangianFieldDensity.tex}
%
\section{Motivation, definitions and setup.}
%
This document will attempt to calculate Maxwell's equation, which in multivector form is
%
\begin{equation}\label{eqn:maxFieldLag:maxwell}
\grad F = J/\epsilon_0 c.
\end{equation}
%
using a Lagrangian energy density variational approach.
%
\subsection{Tensor form of the field.}
%
Explicit expansion of the field bivector in terms of coordinates one has
%
\begin{equation}\label{eqn:lagrangianFieldDensity:20}
\begin{aligned}
F
&= \BE + I c \BB \\
&= E^k \gamma_{k0} + \gamma_{0123k0} c B^k \\
&= E^k \gamma_{k0} + {(\gamma_{0})}^2 {(\gamma_{k})}^2 {\epsilon^{ij}}_k c \gamma_{ij} B^k .
\end{aligned}
\end{equation}
%
Or,
\begin{equation}
F = E^k \gamma_{k0} - c {\epsilon^{ij}}_k B^k \gamma_{ij}.
\end{equation}
%
When this bivector is expressed in terms of basis bivectors \(\gamma_{\mu\nu}\) we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:40}
F
= \sum_{\mu<\nu} (F \cdot \gamma^{\nu\mu}) \gamma_{\mu\nu}
= \inv{2} (F \cdot \gamma^{\nu\mu}) \gamma_{\mu\nu}.
\end{equation}
%
As shorthand for the coordinates the field can be expressed with respect to various bivector basis sets in tensor form
%
\begin{equation*}
\begin{array}{l l l}
F^{\mu\nu} &= F \cdot \gamma^{\nu\mu} & \quad F = (1/2) F^{\mu\nu} \gamma_{\mu\nu} \\
F_{\mu\nu} &= F \cdot \gamma_{\nu\mu} & \quad F = (1/2) F_{\mu\nu} \gamma^{\mu\nu} \\
{F_{\mu}}^\nu &= F \cdot {\gamma_{\nu}}^{\mu} & \quad F = (1/2) {F_{\mu}}^{\nu} {\gamma^{\mu}}_{\nu} \\
{F^{\mu}}_\nu &= F \cdot {\gamma^{\nu}}_{\mu} & \quad F = (1/2) {F^{\mu}}_{\nu} {\gamma_{\mu}}^{\nu}
\end{array}.
\end{equation*}
%
In particular, we can extract the electric field components by dotting with a spacetime mix of indices
%
\begin{equation*}
F^{i0} = E^k \gamma_{k0} \cdot \gamma^{0i} = E^i = -F_{i0}.
\end{equation*}
%
and the magnetic field components by dotting with the bivectors having a pure spatial mix of indices
%
\begin{equation*}
F^{ij} = - c {\epsilon^{a b}}_k B^k \gamma_{a b} \cdot \gamma^{ji} = - c {\epsilon^{i j}}_k B^k = F_{ij}.
\end{equation*}
%
It is customary to summarize these tensors in matrix form
\begin{equation}\label{eqn:maxFieldLag:matrixtensor}
F^{\mu\nu} =
\begin{bmatrix}
0   & -E^1 & -E^2 & -E^3 \\
E^1 &   0  & -c B^3 &  c B^2 \\
E^2 &  c B^3 &   0  & -c B^1 \\
E^3 & -c B^2 &  c B^1 &   0  \\
\end{bmatrix}.
\end{equation}
%
\begin{equation}
F_{\mu\nu} =
\begin{bmatrix}
0   & E^1 & E^2 & E^3 \\
-E^1 &   0  & -c B^3 &  c B^2 \\
-E^2 &  c B^3 &   0  & -c B^1 \\
-E^3 & -c B^2 &  c B^1 &   0  \\
\end{bmatrix}.
\end{equation}
%
Neither of these matrices will be needed explicitly, but are included for comparison since there is some variation in the sign conventions and units used
for the field tensor.
%
\subsection{Maxwell's equation in tensor form.}
%
Taking vector and trivector parts of Maxwell's equation \eqnref{eqn:maxFieldLag:maxwell}, and writing in terms of coordinates produces two equations respectively
%
\begin{equation}\label{eqn:maxFieldLag:vectorPartOfMaxwells}
\partial_{\mu} F^{\mu\alpha} = J^{\alpha}/c \epsilon_0.
\end{equation}
%
\begin{equation}\label{eqn:maxFieldLag:dualPartOfMaxwells}
\epsilon^{ \alpha \beta \sigma \mu } \partial_{\alpha} F_{\beta\sigma} = 0.
\end{equation}
%
The aim here to show that these can be derived from an appropriate Lagrangian density.
%
\subsubsection{Potential form.}
%
With the assumption that the field can be expressed in terms of the curl of a potential vector
%
\begin{equation}\label{eqn:maxFieldLag:potentialdef}
F = \grad \wedge A,
\end{equation}
the tensor expression of the field becomes
\begin{equation}\label{eqn:maxFieldLag:tensorpot}
\begin{aligned}
F^{\mu\nu} &= F \cdot (\gamma^{\nu} \wedge \gamma^{\mu}) = \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} \\
F_{\mu\nu} &= F \cdot (\gamma_{\nu} \wedge \gamma_{\mu}) = \partial_{\mu} A_{\nu} - \partial_{\nu} A_{\mu} \\
{F^{\mu}}_{\nu} &= F \cdot (\gamma^{\nu} \wedge \gamma_{\mu}) = \partial^{\mu} A_{\nu} - \partial_{\nu} A^{\mu} \\
{F_{\mu}}^{\nu} &= F \cdot (\gamma_{\nu} \wedge \gamma^{\mu}) = \partial_{\mu} A^{\nu} - \partial^{\nu} A_{\mu}.
\end{aligned}
\end{equation}
%
These field bivector coordinates will be used in the Lagrangian calculations.
%
\section{Field square.}
%
Our Lagrangian will be formed from the scalar part (will the pseudoscalar part of the field also play a part?) of the squared bivector
%
\begin{equation}\label{eqn:lagrangianFieldDensity:80}
\begin{aligned}
F^2
&= (\BE + I c \BB) (\BE + I c \BB) \\
&= \BE^2 - c^2 \BB^2 + c \left( I \BB \BE + \BE I \BB \right) \\
&= \BE^2 - c^2 \BB^2 + c I \left( \BB \BE + \BE \BB \right) \\
&= \BE^2 - c^2 \BB^2 + 2 c I \BE \cdot \BB.
\end{aligned}
\end{equation}
%
\subsection{Scalar part.}
%
One can also show that the following are all identical representations.
%
\begin{equation}
\inv{2} F_{\mu\nu}F^{\mu\nu} = -\gpgradezero{F^2} = c^2 \BB^2 -\BE^2.
\end{equation}
%
In particular, we will use the tensor form with the field defined in terms of the vector potential of \eqnref{eqn:maxFieldLag:potentialdef}.

Expanding in coordinates this squared curl we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:100}
\begin{aligned}
(\grad \wedge A) (\grad \wedge A)
&= (\gamma^{\mu\nu} \partial_{\mu} A_{\nu})(\gamma^{\alpha\beta} \partial_{\alpha} A_{\beta}) .
\end{aligned}
\end{equation}
%
Implied here is that \(\mu \ne \nu\) and \(\alpha \ne \beta\).  Given that expansion of the scalar and pseudoscalar parts of this quantity we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:120}
\begin{aligned}
\gpgradezero{ (\grad \wedge A)^2 }
&= (\gamma^{\mu\nu}) \cdot (\gamma_{\alpha\beta}) \partial_{\mu} A_{\nu} \partial^{\alpha} A^{\beta} \\
&= \left(\delta^{\mu}_{\beta} \delta^{\nu}_{\alpha} - \delta^{\nu}_{\beta} \delta^{\mu}_{\alpha}\right) \partial_{\mu} A_{\nu} \partial^{\alpha} A^{\beta} \\
&= \partial_{\mu} A_{\nu} \partial^{\nu} A^{\mu} -\partial_{\mu} A_{\nu} \partial^{\mu} A^{\nu} \\
&= -\partial_{\mu} A_{\nu} \left( \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} \right) .
\end{aligned}
\end{equation}
%
That is
\begin{equation}
\gpgradezero{ (\grad \wedge A)^2 } = -\partial_{\mu} A_{\nu} F^{\mu\nu} = -\inv{2} F_{\mu\nu}F^{\mu\nu}.
\end{equation}
%
We will work first with the Lagrangian field density in the following form
\begin{equation}\label{eqn:maxFieldLag:density}
\begin{aligned}
\LL &= -\frac{\kappa}{2} \gpgradezero{F^2} + J \cdot A \\
&= \frac{\kappa}{2} \partial_{\mu} A_{\nu} ( \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} ) + J_{\alpha} A^{\alpha}.
\end{aligned}
\end{equation}
%
\subsection{Pseudoscalar part.}
%
For the pseudoscalar parts of the product we have
\begin{equation}\label{eqn:lagrangianFieldDensity:140}
\begin{aligned}
\gpgrade{ (\grad \wedge A)^2 }{4} &= (\grad \wedge A) \wedge (\grad \wedge A) \\
&= (\gamma_{\mu\nu}) \wedge (\gamma_{\alpha\beta}) \partial^{\mu} A^{\nu} \partial^{\alpha} A^{\beta} .
\end{aligned}
\end{equation}
%
That is
%
\begin{equation}\label{eqn:maxFieldLag:pseudoscalarFieldSquare}
\gpgrade{ (\grad \wedge A)^2 }{4} = \epsilon_{\mu\nu\alpha\beta} I \partial^{\mu} A^{\nu} \partial^{\alpha} A^{\beta}.
\end{equation}
%
%\subsection{Commutator (grade two) part?}
%
%FIXME: how about the commutator part of the product.  Does that also yield something when considered as a Lagrangian.
%
\section{Variational background.}
%
Trying to blindly plug into the proper time variation of the Euler-Lagrange equations that can be used to derive the Lorentz force law from a \(A \cdot v\) based Lagrangian
%
\begin{equation}\label{eqn:maxFieldLag:eulerlag}
\PD{x^\mu}{\LL} = \frac{d}{d\tau} \PD{\dot{x}^\mu}{\LL}.
\end{equation}
%
did not really come close to producing Maxwell's equations from the Lagrangian in \eqnref{eqn:maxFieldLag:density}.  Whatever the equivalent of the Euler-Lagrange equations is for an energy density Lagrangian they are not what is in \eqnref{eqn:maxFieldLag:eulerlag}.

However, what did work was Feynman's way, \citep{feynman1963flp}, from the second volume of the Lectures (the ``entertainment'' chapter on Principle of Least Action).
which uses some slightly ad-hoc seeming variational techniques directly.  To demonstrate the technique some simple examples
will be calculated to get the feel for the method.  After this we move on to the more complex case of trying with the electrodynamic Lagrange density of \eqnref{eqn:maxFieldLag:density}.
%
\subsection{One dimensional purely kinetic Lagrangian.}
%
Here is pretty much the simplest case, and illustrates the technique well.

Suppose we have an action associated with a kinetic Lagrangian density \((1/2) m v^2\)
%
\begin{equation}\label{eqn:maxFieldLag:oneDimKinetic}
S = \int_a^b \frac{m}{2} { \left(\frac{dx}{dt}\right) }^2 dt.
\end{equation}
%
where \(x = x(t)\) is the undetermined function to solve for.  Feynman's technique is similar to \citep{goldstein1951cm} way of deriving the Euler Lagrange equations, but instead of writing
%
\begin{equation*}
x(t, \epsilon) = x(t, 0) + \epsilon n(t).
\end{equation*}
%
and taking derivatives under the integral sign with respect to \(\epsilon\), instead he just writes
%
\begin{equation}\label{eqn:maxFieldLag:xbarplusn}
x = \overbar{x} + n.
\end{equation}
%
In either case, the function \(n = n(t)\) is zero at the boundaries of the integration region, and is allowed to take any value in between.

Substitution of \eqnref{eqn:maxFieldLag:xbarplusn} into \eqnref{eqn:maxFieldLag:oneDimKinetic} we have
%
\begin{equation}
S =
\int_a^b \frac{m}{2} { \left(\frac{d\overbar{x}}{dt}\right) }^2 dt
+ 2 \int_a^b \frac{m}{2} \frac{d\overbar{x}}{dt} \frac{d n}{dt} dt
+ \int_a^b \frac{m}{2} { \left(\frac{d n}{dt}\right) }^2 dt.
\end{equation}
%
The last term being quadratic and presumed small is just dropped.  The first term is strictly positive and does not vary with \(n\) in any way.  The middle term, just as in
Goldstein is integrated by parts
%
\begin{equation}\label{eqn:lagrangianFieldDensity:160}
\begin{aligned}
\int_a^b
\mathLabelBox{ \frac{d\overbar{x}}{dt} \frac{d n}{dt} }{\(fg'\)} dt
&=
\mathLabelBox{ \left. \frac{d\overbar{x}}{dt} n \right\vert_a^b }{\(fg\)} - \int_a^b
\mathLabelBox{\frac{d^2\overbar{x}}{dt^2} n}{\(f'g\)} dt.
\end{aligned}
\end{equation}
%
Since \(n(a) = n(b) = 0\) the first term is zero.  For the remainder to be independent of path (ie: independent of \(n\)) the \(\overbar{x}''\) term is set to zero.  That is
%
\begin{equation*}
\frac{d^2\overbar{x}}{dt^2} = 0.
\end{equation*}
%
As the solution to the extreme value problem.  This is nothing but the equation for a straight line, which is what we expect if there are no external forces
%
\begin{equation*}
\overbar{x} - x_0 = v(t - t_0).
\end{equation*}
%
\subsection{Electrostatic potential Lagrangian.}
%
Next is to apply the same idea to the field Lagrangian for electrostatics.  The Lagrangian is assumed to be of the following form
%
\begin{equation*}
\LL = \kappa (\spacegrad \phi)^2 + \rho \phi.
\end{equation*}
%
Let us see if we can recover the electrostatics equation from this with an action of
%
\begin{equation}\label{eqn:maxFieldLag:densityaction}
S = \int_{\Omega} \LL dx dy.
\end{equation}
%
Doing this for the simpler case of one dimension would not be too much different from the previous kinetic calculation, and doing this in two dimensions is enough
to see how to apply this to the four dimensional case for the general electrodynamic case.

As above we assume that the general varied potential be written in terms of unknown function for which the action takes its extreme value, plus any other unspecified
function
%
\begin{equation}\label{eqn:maxFieldLag:barphi}
\phi = \overbar{\phi} + n.
\end{equation}
%
The function \(n\) is required to be zero on the boundary of the area \(\Omega\).  One can likely assume any sort of area, but for this calculation
the area will be assumed to be both type I and type II (in the lingo of Salus and Hille).

FIXME: picture here to explain.  Want to describe an open area like a ellipse, or rectangle where bounding functions on the top/bottom, or left/right and a fixed interval
in the other direction.
%
% for the area here I think we want both type I and type II (elipse, square, ...).  Can probably generalize to
% other topological forms like donuts but will require that the variational function vanish on _any_ boundary.
%
Substituting the assumed form of the solution from \eqnref{eqn:maxFieldLag:barphi} into the action integral \eqnref{eqn:maxFieldLag:densityaction} one has
%
\begin{equation*}
S =
    \int_{\Omega} dA \left( \kappa {(\spacegrad \overbar{\phi})}^2 + \rho \overbar{\phi} \right)
+   \int_{\Omega} dA \left( 2 \kappa (\spacegrad \overbar{\phi}) \cdot \spacegrad n + \rho n \right)
+   \kappa \int_{\Omega} dA {(\spacegrad n)}^2.
\end{equation*}
%
Again the idea here is to neglect the last integral, ignore the first integral which is fixed, and use integration by parts to eliminate derivatives of \(n\)
in the middle integral.  The portion of that integral to focus on is
%
\begin{equation*}
2 \kappa \sum \int_{\Omega} dx_1 dx_2 \PD{x_i}{\overbar{\phi}} \PD{x_i}{n},
\end{equation*}
%
but how do we do integration by parts on such a beast?  We have partial derivatives and multiple integration to deal with.  Consider just one part of this sum, also ignoring the scale factor, and write it as a definite integral
%
\begin{equation}\label{eqn:lagrangianFieldDensity:180}
\begin{aligned}
\int_{\Omega} dx_1 dx_2 \PD{x_1}{\overbar{\phi}} \PD{x_1}{n}
&= \int_{x_1=a}^{x_1=b} dx_1 \int_{x_2 = \theta_1(x_1)}^{x_2 = \theta_2(x_1)} dx_2 \PD{x_2}{\overbar{\phi}(x_1, x_2)} \PD{x_2}{n(x_1, x_2)} .
\end{aligned}
\end{equation}
%
In the inner integral \(x_1\) can be considered constant, and one can consider \(n(x_1, x_2)\) to be a set function of just \(x_2\), say
%
\begin{equation*}
m_{x_1}(x_2) = n(x_1, x_2).
\end{equation*}
%
Then \(dm/dx_2\) is our partial of \(n\)
%
\begin{equation*}
\frac{d m_{x_1}(x_2)}{d x_2} = \PD{x_2}{n(x_1, x_2)}.
\end{equation*}
%
and we can apply integration by parts
\begin{equation}\label{eqn:lagrangianFieldDensity:200}
\begin{aligned}
\int_{\Omega} dx_1 dx_2 \PD{x_1}{\overbar{\phi}} \PD{x_1}{n}
&= \int_{x_1=a}^{x_1=b} dx_1
%\int_{x_2 = \theta_1(x_1)}^{x_2 = \theta_2(x_1)} dx_2 \PD{x_2}{\overbar{\phi}(x_1, x_2)} \PD{x_2}{n(x_1, x_2)}
% f
%\PD{x_2}{\overbar{\phi}(x_1, x_2)}
% g'
%\PD{x_2}{n(x_1, x_2)}
% fg:
\left. \PD{x_2}{\overbar{\phi}(x_1, x_2)} n(x_1, x_2) \right\vert_{x_2 = \theta_1(x_1)}^{x_2 = \theta_2(x_1)} \\
&- \int_{x_1=a}^{x_1=b} dx_1 \int_{x_2 = \theta_1(x_1)}^{x_2 = \theta_2(x_1)} dx_2 \frac{d}{dx_2} \PD{x_2}{\overbar{\phi}(x_1, x_2)} n(x_1, x_2) .
\end{aligned}
\end{equation}
%
In the remaining single integral we have
\(n(x_1, \theta_1(x_1))\), and \(n(x_1, \theta_2(x_1))\) but these are both points on the boundary, so by the definition of \(n\) these are zero (Feynman takes the
region as all space and has \(n=0\) at infinity).

In the remaining term, the derivative \(\frac{d}{d x_2} \PD{x_2}{\overbar{\phi}(x_1, x_2)}\) is taken with \(x_1\) fixed so is just a second partial.
Doing the same integration by parts for the other part of the sum and reassembling results we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:220}
\begin{aligned}
S &= \int_{\Omega} dA \left( \kappa {(\spacegrad \overbar{\phi})}^2 + \rho \overbar{\phi} \right)
  + \int_{\Omega} dA \left( -2 \kappa \PDd{x_1}{\overbar{\phi}} -2 \kappa \PDd{x_2}{\overbar{\phi}} + \rho \right) n \\
  &\quad + \kappa \int_{\Omega} dA {(\spacegrad n)}^2.
\end{aligned}
\end{equation}
%
As before we set this inner term to zero so that it holds for any \(n\), and recover the field equation as
%
\begin{equation*}
\spacegrad^2 \overbar{\phi} = \rho/2 \kappa.
\end{equation*}
%
provided we set the constant \(\kappa = -\epsilon_0/2\).  This also fixes the unknown constant in the associated Lagrangian density and action
%
\begin{equation}
S = \int_{\Omega} \left(- \frac{\epsilon_0}{2} (\spacegrad \phi)^2 + \rho \phi \right) d\Omega.
\end{equation}
%
It is also clear that the arguments above would also hold for the three dimensional case \(\phi = \phi(x, y, z)\).
%
\section{Vector part of Maxwell's equation.}
%
We want to do the same for the general electrodynamic Lagrangian density (where \(\kappa\) is still undetermined)
%
\begin{equation}\label{eqn:maxFieldLag:densityA}
\LL = \frac{\kappa}{2} \partial_{\mu} A_{\nu} ( \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} ) + J_{\alpha} A^{\alpha}.
\end{equation}
%
Using the same trick we introduce the desired solution and an variational function for each \(A^{\mu}\)
%
\begin{equation*}
A^{\mu} = \barA^{\mu} + n^{\mu}.
\end{equation*}
%
\begin{equation}\label{eqn:lagrangianFieldDensity:240}
\begin{aligned}
2 /\kappa( \LL - J_{\alpha} (\barA^{\alpha} + n^{\alpha}))
&=  \partial_{\mu} (\barA_{\nu} + n_{\nu}) ( \partial^{\mu} (\barA^{\nu} + n^{\nu}) - \partial^{\nu} (\barA^{\mu} + n^{\mu}) ) \\
&=  \partial_{\mu} \barA_{\nu} ( \partial^{\mu} \barA^{\nu} - \partial^{\nu} \barA^{\mu} ) +  \partial_{\mu} n_{\nu} ( \partial^{\mu} n^{\nu} - \partial^{\nu} n^{\mu} )  \\
&+  \partial_{\mu} \barA_{\nu} ( \partial^{\mu} n^{\nu} - \partial^{\nu} n^{\mu} ) +  \partial_{\mu} n_{\nu} ( \partial^{\mu} \barA^{\nu} - \partial^{\nu} \barA^{\mu} )  \\
%&+ J_{\alpha} (\barA^{\alpha} + n^{\alpha}) .
\end{aligned}
\end{equation}
%
The idea again is the same.  Treat the first term as fixed (it is the solution that takes the extreme value), neglect the quadratic term that follows, and use integration by parts
to remove any remaining \(n^{\mu}\) derivatives.  Those derivative terms multiplied out are
%
\begin{equation}\label{eqn:lagrangianFieldDensity:260}
\begin{aligned}
&  \partial_{\mu} \barA_{\nu} \partial^{\mu} n^{\nu}
-  \partial_{\mu} \barA_{\nu} \partial^{\nu} n^{\mu}
+  \partial_{\mu} n_{\nu} \partial^{\mu} \barA^{\nu}
-  \partial_{\mu} n_{\nu} \partial^{\nu} \barA^{\mu} \\
&=  \partial^{\mu} \barA_{\nu} \partial_{\mu} n^{\nu}
-  \partial_{\mu} \barA^{\nu} \partial_{\nu} n^{\mu}
+  \partial_{\mu} n^{\nu} \partial^{\mu} \barA_{\nu}
%-  \partial_{\mu} n^{\nu} \partial^{\nu} \barA_{\mu} \\
-  \partial_{\mu} n^{\nu} \partial_{\nu} \barA^{\mu} \\
&= 2  \partial^{\mu} \barA_{\nu} \partial_{\mu} n^{\nu}
-  \partial_{\mu} \barA^{\nu} \partial_{\nu} n^{\mu}
%-  \partial_{\nu} n^{\mu} \partial^{\mu} \barA_{\nu} \\
-  \partial_{\nu} n^{\mu} \partial_{\mu} \barA^{\nu} \\
&= 2  \partial^{\mu} \barA_{\nu} \partial_{\mu} n^{\nu}
- 2  \partial_{\nu} \barA^{\mu} \partial_{\mu} n^{\nu} \\
&= 2  \left( \partial^{\mu} \barA_{\nu} -\partial_{\nu} \barA^{\mu} \right) \partial_{\mu} n^{\nu} \\
&= 2  \left( \partial^{\mu} \barA^{\nu} -\partial^{\nu} \barA^{\mu} \right) \partial_{\mu} n_{\nu} \\
&= 2  {F_{\barA}}^{\mu\nu} \partial_{\mu} n_{\nu} .
\end{aligned}
\end{equation}
%
Collecting all the non-fixed and non-quadratic \(n^{\mu}\) terms of the action we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:280}
\begin{aligned}
\delta S
&= \int d^4 x \kappa {F_{\barA}}^{\mu\nu} \partial_{\mu} n_{\nu} + J^{\alpha} n_{\alpha} \\
&= \int \left. d^3 \widehat{x^{\mu}} \kappa {F_{\barA}}^{\mu\nu} n_{\nu} \right\vert_{\partial \mu}
 + \int d^4 x \left(
- \kappa \partial_{\mu} {F_{\barA}}^{\mu\nu} + J^{\nu}
\right) n_{\nu} .
\end{aligned}
\end{equation}
%
Where \(d^3 \widehat{x^{\mu}} = dx^\alpha dx^\beta dx^\gamma, \text{for} \{\alpha, \beta, \gamma\} \ne \mu\) denotes the remaining three volume differential element remaining after integration by \(dx^{\mu}\).  The expression \(\partial \mu\) denotes the boundary of this first integration, and since we have \(n=0\) on this boundary this first integral equals zero.

Finally, setting the interior term equal to zero for an extreme value independent of \(n^{\nu}\) we have
%
\begin{equation*}
\partial_{\mu} {F_{\barA}}^{\mu\nu} = \inv{\kappa} J^{\nu}.
\end{equation*}
%
This fixes \(\kappa = c \epsilon_0\), and completes half of the recovery of Maxwell's equation from a Lagrangian
%
\begin{equation}
\LL = -\frac{c \epsilon_0}{2} \gpgradezero{(\grad \wedge A)^2} + J \cdot A.
\end{equation}
%
%
%
%
%%\subsection{Determination of scale factor by comparision to electrostatics case}
%%
%%FIXME: write this up.  A first attempt to do it this way (ie: before doing the variational work first) ended up with a \(1/c\) factor error.   Correct the latex, and uncomment.
%%
%% check scale 1/2 1/4 factors here too.
%%XXX
%% FIXME:
%%Having done the derivation of electrostatics equation, we can also fix the constant \(\kappa\) in the general Lagrangian by
%%comparison by setting \(A_\mu = A_\nu = 0\)
%%
%%\begin{align*}
%%\LL
%%&=
%%\frac{\kappa}{4}
%%\left(
%%%( \partial_{\mu} A_{\nu} - \partial_{\nu} A_{\mu} ) ( \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} )
%%\partial_{\mu} A_{\nu} \partial^{\mu} A^{\nu}
%%-\partial_{\mu} A_{\nu} \partial^{\nu} A^{\mu}
%%-\partial_{\nu} A_{\mu} \partial^{\mu} A^{\nu}
%%+\partial_{\nu} A_{\mu} \partial^{\nu} A^{\mu}
%%\right)
%%+ J_{\alpha} A^{\alpha} \\
%%&=
%%\frac{\kappa}{4}
%%\left(
%%\partial_{\mu} A_{0} \partial^{\mu} A^{0}
%%-\partial_{0} A_{0} \partial^{0} A^{0}
%%-\partial_{0} A_{0} \partial^{0} A^{0}
%%+\partial_{\nu} A_{0} \partial^{\nu} A^{0}
%%\right)
%%+ J_{0} A^{0} \\
%%&= \frac{\kappa}{2} \partial_{i} A_{0} \partial^{i} A^{0} + J_{0} A^{0} \\
%%&= -\frac{\kappa}{2} (\partial_{i} A^{0})^2 + J_{0} A^{0} \\
%%&= -\frac{\kappa}{2} (\partial_{i} \phi/c)^2 + c \rho \phi/c \\
%%&= -\frac{\kappa}{2 c^2} (\partial_{i} \phi)^2 + \rho \phi \\
%%&= -\frac{\epsilon_0}{2} (\spacegrad \phi)^2 + \rho \phi \\
%%\end{align*}
%%
%%% e mu = 1/c^2
%%% e c^2 mu = 1
%%% e c^2 = 1/mu
%%This dimensional analysis and comparision supplies \(\kappa = \epsilon_0 c^2\).  With
%%\(\epsilon_0 \mu_0 = 1/c^2\), we have our scale factor before actually solving the extremal problem and equation \eqnref{eqn:maxFieldLag:density} takes the form
%%
%%\begin{equation}
%%\LL = \inv{2 \mu_0} \partial_{\mu} A_{\nu} ( \partial^{\mu} A^{\nu} - \partial^{\nu} A^{\mu} ) + J_{\alpha} A^{\alpha}.
%%\end{equation}
%%
%%
%%% mu = 1/e c^2
%%
%%Hmm.  Off by a factor of \(1/c\) so something went wrong with the determination of \(\kappa\).  Other than that this is exactly the tensor form of the vector part of Maxwells equation.
%
\section{Trivector (dual) part of Maxwell's equation.}
%
Next it will be shown that the remaining half \eqnref{eqn:maxFieldLag:dualPartOfMaxwells}
of Maxwell's equation in tensor form can be calculated from the pseudoscalar part of the field square
\eqnref{eqn:maxFieldLag:pseudoscalarFieldSquare} when used as a Lagrangian density.
%
% F^2 = 2cI E.B
\begin{equation}\label{eqn:lagrangianFieldDensity:300}
\begin{aligned}
\LL
&= -\frac{\kappa I}{2} \gpgrade{F^2}{4} \\
&= -{\kappa c I} \BE \cdot \BB \\
&= -\frac{\kappa I}{2}
\epsilon_{\mu\nu\alpha\beta} \partial^{\mu} A^{\nu} \partial^{\alpha} A^{\beta}.
\end{aligned}
\end{equation}
%
I think that it will be natural as a follow on to retain the complex nature of the field square later and work with an entirely complex Lagrangian, but for now
the \(-\kappa I/2\) coefficient can be dropped since it will not change the overall result.  Where it is useful is that the factor of \(I\) implicitly balances the upper and lower indices used, so a complete index lowering will also not change the result (ie: the pseudoscalar is then correspondingly expressed in terms of index upper basis vectors).

As before we write our varied field in terms of the optimal solution, and the variational part
%
\begin{equation*}
A^{\mu} = \barA^{\mu} + n^{\mu}.
\end{equation*}
%
and substitute into the Lagrangian
%
\begin{equation*}
\LL = \LL_{\barA} + \LL_{n}
+ \epsilon_{\mu\nu\alpha\beta} \left( \partial^{\mu} \barA^{\nu} \partial^{\alpha} n^{\beta} +\partial^{\mu} n^{\nu} \partial^{\alpha} \barA^{\beta} \right).
\end{equation*}
%
It is this last term that yields the variation part of our action
%
\begin{equation}\label{eqn:lagrangianFieldDensity:320}
\begin{aligned}
\delta S
&= \epsilon_{\mu\nu\alpha\beta} \int d^4 x \left(\partial^{\mu} \barA^{\nu} \partial^{\alpha} n^{\beta} +\partial^{\mu} n^{\nu} \partial^{\alpha} \barA^{\beta} \right) \\
&= \epsilon_{\mu\nu\alpha\beta} \int d^4 x \partial^{\mu} \barA^{\nu} \partial^{\alpha} n^{\beta}
 + \epsilon_{\alpha\beta\mu\nu} \int d^4 x \partial^{\alpha} n^{\beta} \partial^{\mu} \barA^{\nu} \\
&= 2 \epsilon_{\mu\nu\alpha\beta} \int d^4 x \partial^{\mu} \barA^{\nu} \partial^{\alpha} n^{\beta} .
\end{aligned}
\end{equation}
%
and we do the integration by parts on this
%
\begin{equation}\label{eqn:lagrangianFieldDensity:340}
\begin{aligned}
\delta S
&= -2 \epsilon_{\mu\nu\alpha\beta} \int d^4 x \partial^{\alpha} \left(\partial^{\mu} \barA^{\nu} \right) n^{\beta} \\
%&= 2 \epsilon^{\mu\nu\alpha\beta} \int d^4 x \partial_{\alpha} \left(\partial_{\mu} \barA_{\nu} \right) n_{\beta} \\
&= 2 \int d^4 x \left( \epsilon^{\mu\nu\alpha\beta} \partial_{\alpha} \left(\partial_{\mu} \barA_{\nu} \right) \right) n_{\beta} .
\end{aligned}
\end{equation}
%
We are close to recovering the trivector part of Maxwell's equation from this.  Equating the kernel to zero, so that it applies for all variations in \(n\) we have
%
\begin{equation*}
\epsilon^{\mu\nu\alpha\beta} \partial_{\alpha} \left(\partial_{\mu} \barA_{\nu} \right) = 0.
\end{equation*}
%
Since we can add zero to zero and not change the result, we can write
\begin{equation}\label{eqn:lagrangianFieldDensity:360}
\begin{aligned}
0
&=
  \epsilon^{\mu\nu\alpha\beta} \partial_{\alpha} \left(\partial_{\mu} \barA_{\nu} \right)
+ \epsilon^{\nu\mu\alpha\beta} \partial_{\alpha} \left(\partial_{\nu} \barA_{\mu} \right) \\
&= \epsilon^{\mu\nu\alpha\beta} \partial_{\alpha} \left(\partial_{\mu} \barA_{\nu} - \partial_{\nu} \barA_{\mu} \right) .
\end{aligned}
\end{equation}
%
That completes the result and this extremal solution recovers the trivector part of Maxwell's equation in its standard tensor form
%
\begin{equation}
\epsilon^{\mu\nu\alpha\beta} \partial_{\alpha} F_{\mu\nu} = 0.
\end{equation}
%
\section{Maxwell equation with complex Lagrangian.}
%
Working with the Lagrangian in a complex form, avoiding any split into scalar and pseudoscalar parts, may be a more natural approach.  Lets try this, forming the complex Lagrangian density
%
\begin{equation}\label{eqn:lagrangianFieldDensity:380}
\begin{aligned}
\LL
&= \kappa (\grad \wedge A)^2 + J \cdot A \\
&= \kappa (\gamma^{\mu\nu})(\gamma^{\alpha\beta}) \partial_{\mu} A_{\nu} \partial_{\alpha} A_{\beta} + J^{\sigma} A_{\sigma}.
\end{aligned}
\end{equation}
%
With the same split into solution and variational parts
%
\begin{equation*}
A_{\mu} = \barA_{\mu} + n_{\mu},
\end{equation*}
%
and writing \(\LL_u = \kappa (\grad \wedge u)^2\), we can split this into three parts
%
\begin{equation*}
\LL = \LL_{\barA} + J^{\sigma} \barA_{\sigma} + \LL_{n} + \delta \LL.
\end{equation*}
%
where
%
\begin{equation*}
\delta \LL =
\kappa (\gamma^{\mu\nu})(\gamma^{\alpha\beta}) \partial_{\mu} \barA_{\nu} \partial_{\alpha} n_{\beta}
+\kappa (\gamma^{\mu\nu})(\gamma^{\alpha\beta}) \partial_{\mu} n_{\nu} \partial_{\alpha} \barA_{\beta}
+ J^{\sigma} n_{\sigma}.
\end{equation*}
%
It is important to note that all of the squared field Lagrangian terms
%
\begin{equation}\label{eqn:maxFieldLag:gradetwonote}
\LL_A = \LL_{\barA} + \LL_n + \delta \LL = \kappa {(\grad \wedge A)}^2,
\end{equation}
%
has only grade zero and grade four parts.  In particular since \(\LL_A\), \(\LL_{\barA}\), and \(\LL_n\) all have no grade two term, then
\(\delta \LL\) also has no grade two term.
This observation
will be needed later to drop grade two terms when it is not so obvious that they are necessarily zero algebraically.

Forming the action \(S = \int d^4 x \LL\), and integrating the \(\delta \LL\) contribution by parts we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:400}
\begin{aligned}
\delta S
&=
\int d^4 x
\left(
-\kappa (\gamma^{\mu\nu})(\gamma^{\alpha\beta}) n_{\beta} \partial_{\alpha} \partial_{\mu} \barA_{\nu}
+-\kappa (\gamma^{\mu\nu})(\gamma^{\alpha\beta}) n_{\nu} \partial_{\mu} \partial_{\alpha} \barA_{\beta}
+ J^{\sigma} n_{\sigma}
\right) \\
&=
\int d^4 x n_{\sigma}
\left(
-\kappa \partial_{\alpha} \partial_{\mu} \barA_{\nu} \left( (\gamma^{\mu\nu})(\gamma^{\alpha\sigma}) + (\gamma^{\alpha\sigma})(\gamma^{\mu\nu}) \right)
+ J^{\sigma}
\right) .
\end{aligned}
\end{equation}
%
Setting the kernel of this to zero
%
\begin{equation}\label{eqn:lagrangianFieldDensity:420}
\begin{aligned}
J^{\sigma}/\kappa
&=
\partial_{\alpha} \partial_{\mu} \barA_{\nu} \left( (\gamma^{\mu\nu})(\gamma^{\alpha\sigma}) + (\gamma^{\alpha\sigma})(\gamma^{\mu\nu}) \right) .
\end{aligned}
\end{equation}
%
Since the integration by parts cannot have changed the grade, the observation made with \eqnref{eqn:maxFieldLag:gradetwonote} can be used to
write this last symmetric bivector product as a single product.

Temporarily writing \(U = \gamma^{\alpha\sigma}\), and \(V = \gamma^{\mu\nu}\) we have
%
\begin{equation}\label{eqn:lagrangianFieldDensity:440}
\begin{aligned}
U V + V U
&= 2 (U \cdot V + U \wedge V) \\
&= 2 (U V - \gpgradetwo{U V} ) \\
&= 2 U V.
\end{aligned}
\end{equation}
%
With multiplication by \(\gamma_{\sigma}\) and summing we are almost there
%
\begin{equation}\label{eqn:lagrangianFieldDensity:460}
\begin{aligned}
J/\kappa
&= 2 \partial_{\alpha} \partial_{\mu} \barA_{\nu} \gamma_{\sigma} \gamma^{\alpha\sigma} \gamma^{\mu\nu} \\
&= -2 \partial_{\alpha} \partial_{\mu} \barA_{\nu} \gamma_{\sigma} \gamma^{\sigma\alpha} \gamma^{\mu\nu} \\
&= -2 \partial_{\alpha} \partial_{\mu} \barA_{\nu} \gamma^{\alpha} \gamma^{\mu\nu} \\
&= -2 \grad \partial_{\mu} \barA_{\nu} \gamma^{\mu\nu} \\
&= \grad \left( \partial_{\nu} \barA_{\mu} - \partial_{\mu} \barA_{\nu} \right) \gamma^{\mu\nu} \\
&= -\grad F_{\mu\nu} \gamma^{\mu\nu} \\
&= -2 \grad F.
\end{aligned}
\end{equation}
%
With \(\kappa = - c \epsilon_0/2\) we have derived Maxwell's equation \eqnref{eqn:maxFieldLag:maxwell} from a Lagrangian density without having to reassemble it from the tensor \eqnref{eqn:maxFieldLag:vectorPartOfMaxwells} for the vector part, and the associated dual tensor \eqnref{eqn:maxFieldLag:dualPartOfMaxwells}
for the trivector part.

It also shows that the choice to work directly with a complex valued Lagrangian,
%
\begin{equation}
\LL = - \frac{c \epsilon_0}{2} (\grad \wedge A)^2 + J \cdot A.
\end{equation}
%
leads directly to Maxwell's equation in its geometric algebra formulation, as
detailed in \citep{doran2003gap}.
%
\section{Summary.}
%
With just two Lagrangian's and their associated action integrals
%
\begin{equation}
\LL = - \frac{c \epsilon_0}{2} (\grad \wedge A)^2 + J \cdot A.
\end{equation}
\begin{equation}\label{eqn:maxFieldLag:lorentzforce}
\LL = \inv{2}m v^2 + q A \cdot v/c %+ \phi.
\end{equation}
%
we have a good chunk of non-quantum electrodynamics described in a couple energy minimization relationships.  A derivation, albeit a primitive one based somewhat on intuition, of \eqnref{eqn:maxFieldLag:lorentzforce} can be found in \chapcite{PJSrLagrangian}.

The solution of the action problem for these give us our field equation and Lorentz force law respectively. % (an additional non-electrodynamic potential has been added for generality).
%
\begin{equation*}
\grad F = J / \epsilon_0 c.
\end{equation*}
\begin{equation*}
\frac{dp}{d\tau} = q F \cdot v/c %+ \grad \phi - \frac{d}{d\tau}\grad_v \phi.
\end{equation*}
%
Now, to figure out everything else based on these still takes a lot of work, but it is nice to logically reduce things to the minimal set of fundamental relationships!

Positive time metric signature is implied in the above Lorentz Lagrangian.  A more careful followup treatment of this Lagrangian with respect to signature
can be found in \chapcite{PJSrLorentzForce}.
